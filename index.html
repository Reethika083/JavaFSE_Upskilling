<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Local Community Event Portal</title>

  <style>
    #welcomeBanner {
      background-color: #007BFF;
      color: white;
      padding: 15px;
      text-align: center;
      font-family: Arial, sans-serif;
      margin-bottom: 20px;
    }

    .highlight {
      background-color: yellow;
      font-weight: bold;
      padding: 2px 6px;
      border-radius: 4px;
    }

    .event-img {
      border: 3px solid #007BFF;
      border-radius: 8px;
      width: 150px;
      height: 100px;
      object-fit: cover;
      cursor: pointer;
    }

    /* Style figure and figcaption */
    figure {
      margin: 0;
      padding: 0;
      text-align: center;
    }

    figcaption {
      font-style: italic;
      margin-top: 5px;
      color: #555;
      font-size: 0.9em;
    }

    table {
      margin: 20px auto;
      border-collapse: separate;
      border-spacing: 15px 10px;
    }

    td {
      text-align: center;
      vertical-align: top;
    }

    nav ul {
      list-style-type: none;
      padding: 0;
      display: flex;
      gap: 15px;
      background-color: #f0f0f0;
      margin-bottom: 20px;
    }

    nav ul li {
      display: inline;
    }

    nav ul li a {
      text-decoration: none;
      color: #007BFF;
      font-weight: bold;
    }

    nav ul li a:hover {
      text-decoration: underline;
    }

    #registration {
  max-width: 400px;
  margin: 40px auto;
  padding: 15px;
  border: 2px solid #007BFF;
  border-radius: 8px;
  font-family: Arial, sans-serif;
  background-color: #f9f9f9;
}

#registration label {
  font-weight: bold;
}

#registration input, 
#registration select, 
#registration textarea {
  width: 100%;
  padding: 8px;
  margin-top: 4px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
}

#registration button {
  background-color: #007BFF;
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
}

#registration button:hover {
  background-color: #0056b3;
}

  </style>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#events">Events</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="help.html" target="_blank" rel="noopener noreferrer">Help</a></li>
    </ul>
  </nav>

  <!-- Welcome Banner -->
  <div id="welcomeBanner">
    Welcome back, <span class="highlight">Valued Resident!</span>
    <br />
    Donâ€™t miss our <span style="color: red; font-weight: bold;">special offer</span> on upcoming community events!
  </div>

  <!-- Main -->
  <main>
    <section id="home">
      <h1 class="highlight">Welcome to the Local Community Event Portal</h1>
      <p>This portal helps residents register for events, check locations, and access services.</p>
    </section>

    <section id="events">
      <h2>Events Gallery</h2>

      <table>
        <tr>
          <td>
            <figure>
              <img src="https://images.stockcake.com/public/4/4/b/44b753ab-4342-429d-b65a-0ca65b0cddfe_medium/community-cleanup-effort-stockcake.jpg" alt="Community Cleanup" title="Community Cleanup Event" class="event-img" />
              <figcaption>Community Cleanup Day - April 2025</figcaption>
            </figure>
          </td>
          <td>
            <figure>
              <img src="https://mlflfvh4wrri.i.optimole.com/cb:bFkY.210f8/w:1000/h:636/q:91/ig:avif/https://www.eventurous.co.uk/wp-content/uploads/2023/09/Corporate-Festivals-Photo-Gallery-8-1.jpg" alt="Local Festival Fun" title="Local Festival 2024" class="event-img" />
              <figcaption>Local Festival Celebration - December 2024</figcaption>
            </figure>
          </td>
          <td>
            <figure>
              <img src="https://static.wixstatic.com/media/0da0bc_1e858878a6084e40b87608192b08434e~mv2.jpeg/v1/fill/w_556,h_366,fp_0.50_0.50,q_80,usm_0.66_1.00_0.01,enc_auto/0da0bc_1e858878a6084e40b87608192b08434e~mv2.jpeg" alt="Art Workshop" title="Art Workshop" class="event-img" />
              <figcaption>Art Workshop for Kids - March 2025</figcaption>
            </figure>
          </td>
        </tr>
        <tr>
          <td>
            <figure>
              <img src="https://cdn.timeoutdoors.com/media/sr/sue-ryder-manorlands-run-bolton-abbey/finishers.jpg?w=1920" alt="Charity Run" title="Charity Run" class="event-img" />
              <figcaption>Charity Run - May 2025</figcaption>
            </figure>
          </td>
          <td>
            <figure>
              <img src="https://www.visitmusiccity.com/sites/default/files/styles/featured_promo/public/2025-03/Bonnaroo-MusicFestival_0.png.webp?itok=JLdffUr8" alt="Community Music Night" title="Music Night" class="event-img" />
              <figcaption>Community Music Night - February 2025</figcaption>
            </figure>
          </td>
          <td>
            <figure>
              <img src="https://media.licdn.com/dms/image/v2/D4D12AQHxFASAO1wSDw/article-cover_image-shrink_720_1280/article-cover_image-shrink_720_1280/0/1689356105173?e=2147483647&v=beta&t=yE9T3Uovjdt1VDYYHYssVNB3pYHl9AhJG-sl296jXZo" alt="Garden Planting" title="Garden Planting Event" class="event-img" />
              <figcaption>Garden Planting Day - April 2025</figcaption>
            </figure>
          </td>
        </tr>
      </table>
    </section>

    <section id="registration">
  <h2>Event Registration Form</h2>

  <!-- ðŸ“¹ Event Promo Video -->
  <h3>Event Promo Video</h3>
<video id="eventVideo" width="320" height="240" controls oncanplay="videoReady()">
  <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<p id="videoStatus" style="color: green; font-weight: bold;"></p>

  <form id="eventForm">
    <!-- Existing form content continues -->
    <label for="name">Name:</label><br />
    <input type="text" id="name" name="name" placeholder="Enter your full name" required autofocus /><br /><br />

    <label for="email">Email:</label><br />
    <input type="email" id="email" name="email" placeholder="example@domain.com" required /><br /><br />

    <label for="phone">Phone Number:</label><br />
    <input type="tel" id="phone" name="phone" placeholder="Enter 10-digit number" onblur="validatePhone()" required /><br />
    <small id="phoneError" style="color: red;"></small><br />

    <label for="date">Event Date:</label><br />
    <input type="date" id="date" name="date" required /><br /><br />

    <label for="eventType">Event Type:</label><br />
    <select id="eventType" name="eventType" required>
      <option value="" disabled selected>Select an event</option>
      <option value="cleanup">Community Cleanup Day</option>
      <option value="festival">Local Festival</option>
      <option value="workshop">Art Workshop</option>
      <option value="run">Charity Run</option>
      <option value="music">Community Music Night</option>
      <option value="planting">Garden Planting Day</option>
    </select><br /><br />

    <label for="message">Message:</label><br />
    <textarea id="message" name="message" placeholder="Your message or questions" rows="4" cols="30"></textarea><br /><br />

    <button type="submit">Register</button>
  </form>

  <button id="clearPrefs" type="button" style="margin-top: 10px;">Clear Preferences</button>

<output id="confirmation" style="display:block; margin-top:15px; font-weight:bold; color:green;"></output>

  <output id="confirmation" style="display:block; margin-top:15px; font-weight:bold; color:green;"></output>

  <button id="findNearby" type="button" style="margin-top: 10px;">Find Nearby Events</button>

<!-- Confirmation output -->
<output id="confirmation" style="display:block; margin-top:15px; font-weight:bold; color:green;"></output>

<!-- Add a new output or div to display geolocation info -->
<div id="geoOutput" style="margin-top: 15px; color: blue; font-weight: bold;"></div>
</section>


    <section id="contact">
      <h2>Contact Us</h2>
      <p>Reach out to the city council for more information.</p>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Local City Council</p>
  </footer>

  <script>
  const form = document.getElementById('eventForm');
  const output = document.getElementById('confirmation');

  form.addEventListener('submit', function(e) {
  e.preventDefault();

  // Call phone validator first
  if (!validatePhone()) {
    console.warn("Phone validation failed. Submission stopped.");
    return; // Stop form submission if phone is invalid
  }

  const name = form.name.value.trim();
  const email = form.email.value.trim();
  const date = form.date.value;
  const eventType = form.eventType.options[form.eventType.selectedIndex].text;

  console.log("Form submission started");
  console.log({ name, email, date, eventType }); // Log form values to console

  if (!name || !email) {
    console.warn("Missing name or email! Submission stopped.");
    return;
  }

  output.textContent = `Thank you, ${name}! You have successfully registered for the "${eventType}" event on ${date}. We will contact you at ${email}.`;

  console.log("Confirmation message displayed");

  form.reset();
  form.name.focus();
});


  function validatePhone() {
    const phoneInput = document.getElementById("phone");
    const phoneError = document.getElementById("phoneError");
    const phoneValue = phoneInput.value.trim();
    const phoneRegex = /^[0-9]{10}$/;

    if (!phoneRegex.test(phoneValue)) {
      phoneError.textContent = "Please enter a valid 10-digit phone number.";
      phoneInput.style.border = "2px solid red";
      return false;
    } else {
      phoneError.textContent = "";
      phoneInput.style.border = "2px solid green";
      return true;
    }
  }
  function videoReady() {
  document.getElementById('videoStatus').textContent = "ðŸŽ¬ Video ready to play!";
}

window.onbeforeunload = function () {
    if (
      document.getElementById('name').value !== '' ||
      document.getElementById('email').value !== '' ||
      document.getElementById('phone').value !== ''
    ) {
      return "You have unsaved changes. Are you sure you want to leave?";
    }
  };




</script>


</body>
</html>
